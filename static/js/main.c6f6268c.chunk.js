(this["webpackJsonpreact-test-fly"]=this["webpackJsonpreact-test-fly"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),n=a(13),i=a.n(n),s=(a(27),a(28),a(12)),l=(a(29),a(9)),o="LOGIN",u="LOGOUT",p="SHOW_VALIDATE_ERR",d="HIDE_VALIDATE_ERR",j="FETCH_FLIGHTS",b="REQUEST_FLIGHTS",h="SET_LIKE",f="REMOVE_LIKE";var m=a(6),O=a(1);var _=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),i=Object(s.a)(n,2),u=i[0],j=i[1],b=Object(m.c)(),h=Object(m.d)((function(e){return e.login})),f="authorization__label ".concat(h.email?"authorization__label_type_err":""),_="authorization__input  ".concat(h.email?"authorization__input_type_err":""),g="authorization__label ".concat(h.pass?"authorization__label_type_err":""),v="authorization__input  ".concat(h.pass?"authorization__input_type_err":""),x=/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i,k=/(?=^.{8,}$)^[a-zA-Z0-9]+$/,N="";N=h.email?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443":"";var y="";y=h.pass?"\u041f\u0430\u0440\u043e\u043b\u044c \u0431\u0435\u0437 \u043a\u0438\u0440\u0438\u043b\u0438\u0446\u044b, \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":"";var w=function(e,t,a){var c;e.test(a)?b(function(e){return Object(l.a)({type:d,place:e.input},e.input,e.state)}({input:t,state:!1})):b((c={input:t,state:!0},Object(l.a)({type:p,place:c.input},c.input,c.state)))};return Object(O.jsx)("main",{className:"authorization",children:Object(O.jsxs)("div",{className:"authorization__block",children:[Object(O.jsx)("h2",{className:"authorization__title",children:"Simple Flight Check"}),Object(O.jsxs)("form",{className:"authorization__form",action:"#",onSubmit:function(e){e.preventDefault(),""===a||""===u?(w(x,"email",a),w(k,"pass",u)):b({type:o})},noValidate:!0,children:[Object(O.jsx)("label",{className:f,children:"\u041b\u043e\u0433\u0438\u043d:"}),Object(O.jsx)("input",{type:"email",name:"email",value:a||"",onChange:function(e){r(e.target.value),w(x,"email",a)},className:_}),Object(O.jsx)("span",{className:"authorization__err",children:N}),Object(O.jsx)("label",{className:g,children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(O.jsx)("input",{type:"password",name:"pass",value:u||"",onChange:function(e){j(e.target.value),w(k,"pass",u)},className:v}),Object(O.jsx)("span",{className:"authorization__err",children:y}),Object(O.jsx)("button",{type:"submit",className:"authorization__btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(35),a(36),a(37);var g=function(e){var t=e.link;return Object(O.jsx)("li",{className:"departure__image-item",children:Object(O.jsx)("img",{className:"departure__image",src:t,alt:"departure place"})})};var v=Object(m.b)((function(e){return{images:e.images.images}}),null)((function(e){var t=e.images;return Object(O.jsx)("div",{className:"container-shadow",children:Object(O.jsx)("ul",{className:"departure__images",children:t.map((function(e,t){return Object(O.jsx)(g,{link:e},t)}))})})})),x=(a(38),a(39),a.p+"static/media/logo-aero.dd978435.svg");var k=function(e){var t=Object(m.c)(),a="departure__like ".concat(e.flight.isLiked?"departure__like_active":"");return Object(O.jsxs)("li",{className:"departure__flight",children:[Object(O.jsxs)("div",{className:"departure__flight-info",children:[Object(O.jsx)("img",{src:x,className:"departure__logo",alt:"logo"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"departure__flight-aeroports",children:[Object(O.jsx)("p",{className:"departure__flight-from",children:e.flight.placeFrom}),Object(O.jsx)("p",{className:"departure__flight-in",children:e.flight.placeIn})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"departure__flight-date",children:e.flight.date}),Object(O.jsx)("p",{className:"departure__flight-company",children:e.flight.company})]})]})]}),Object(O.jsxs)("div",{className:"departure__price-block",children:[Object(O.jsx)("button",{className:a,onClick:function(){var a;e.flight.isLiked?t(function(e){return{type:f,payload:e}}(e.flight.id)):t((a=e.flight.id,{type:h,payload:a}))},"aria-label":"like"}),Object(O.jsxs)("p",{className:"departure__cost",children:[Object(O.jsx)("span",{className:"departure__price-title",children:"Price:"}),e.flight.price]})]})]})};var N=function(){var e=Object(m.d)((function(e){return e.flights}));return Object(O.jsxs)("ul",{className:"departure__flights",children:[Object(O.jsxs)("p",{className:"departure__favorites",children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object(O.jsx)("span",{className:"departure__counter",children:e.favorites.length}),"  \u0440\u0435\u0439\u0441\u043e\u0432"]}),e.flights.map((function(e,t){return Object(O.jsx)(k,{flight:e,index:t},t)}))]})},y=a(18),w=a.n(y);a(41);var S=function(){var e=Object(c.useState)(w()().locale("ru").format("YYYY-MM-DD")),t=Object(s.a)(e,2),a=t[0],r=t[1],n=Object(m.c)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",className:"btn-exit",onClick:function(){n({type:u})},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(O.jsxs)("main",{className:"departures",children:[Object(O.jsxs)("div",{className:"departures__block",children:[Object(O.jsxs)("div",{className:"departure__direction-block",children:[Object(O.jsx)("p",{className:"departure__direction departure__title",children:"\u0412\u044b\u043b\u0435\u0442\u044b"}),Object(O.jsx)("p",{className:"departure__direction departure__routes",children:"SVO - JFK"})]}),Object(O.jsxs)("div",{className:"departure__calendar-block",children:[Object(O.jsx)("p",{className:"departure__calendar-data",children:function(e){var t=new Date(e),a=t.getDate(),c=t.getMonth()+1,r=t.getFullYear();switch(c){case 1:c="\u042f\u043d\u0432\u0430\u0440\u044f";break;case 2:c="\u0424\u0435\u0432\u0440\u0430\u043b\u044f";break;case 3:c="\u041c\u0430\u0440\u0442\u0430";break;case 4:c="\u0410\u043f\u0440\u0435\u043b\u044f";break;case 5:c="\u041c\u0430\u044f";break;case 6:c="\u0418\u044e\u043d\u044f";break;case 7:c="\u0418\u044e\u043b\u044f";break;case 8:c="\u0410\u0432\u0433\u0443\u0441\u0442\u0430";break;case 9:c="\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f";break;case 10:c="\u041e\u043a\u0442\u044f\u0431\u0440\u044f";break;case 11:c="\u041d\u043e\u044f\u0431\u0440\u044f";break;case 12:c="\u0414\u0435\u043a\u0430\u0431\u0440\u044f";break;default:c="\u041c\u0435\u0441\u044f\u0446"}return a+" "+c+" "+r}(a)}),Object(O.jsx)("input",{type:"date",name:"calendar",value:a,onChange:function(e){r(e.target.value)},className:"departure__calendar"})]})]}),Object(O.jsx)(v,{}),Object(O.jsx)(N,{})]})]})};var F=Object(m.b)((function(e){return{login:e.login.login}}),null)((function(e){return e.login?Object(O.jsx)("div",{className:"page",children:Object(O.jsx)(S,{})}):Object(O.jsx)("div",{className:"page",children:Object(O.jsx)(_,{})})})),L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),r(e),n(e),i(e)}))},z=a(10),I=a(5),J={login:(JSON.parse(localStorage.getItem("authorization"))||!1).login,email:!1,pass:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return localStorage.setItem("authorization",JSON.stringify({login:!0})),Object(I.a)(Object(I.a)({},e),{},{login:!0});case u:return localStorage.setItem("authorization",JSON.stringify({login:!1})),Object(I.a)(Object(I.a)({},e),{},{login:!1});case p:return Object(I.a)(Object(I.a)({},e),{},Object(l.a)({},t.place,!0));case d:return Object(I.a)(Object(I.a)({},e),{},Object(l.a)({},t.place,!1));default:return e}},E=a.p+"static/media/photo1.e911344d.png",A=a.p+"static/media/photo2.c313eba1.png",M=a.p+"static/media/photo3.ec11c3ee.png",T={images:[E,A,M,E,A,M]},V={flights:[{id:"1",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"2",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"3",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"4",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"5",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1}],favorites:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(I.a)(Object(I.a)({},e),{},{flights:t.payload,favorites:e.flights.filter((function(e){return!0===e.isLiked}))});case h:return Object(I.a)(Object(I.a)({},e),{},{flights:e.flights.map((function(e){return e.id===t.payload?(e.isLiked=!0,e):e})),favorites:e.flights.filter((function(e){return!0===e.isLiked}))});case f:return Object(I.a)(Object(I.a)({},e),{},{flights:e.flights.map((function(e){return e.id===t.payload?(e.isLiked=!1,e):e})),favorites:e.flights.filter((function(e){return!0===e.isLiked}))});default:return e}},D=Object(z.b)({login:C,images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return e},flights:Y}),R=a(20),K=a(22),G=a(21),H=a(11),U=a.n(H),Z=a(15),B=U.a.mark($),P=U.a.mark(q);function $(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.c)(b,q);case 2:case"end":return e.stop()}}),B)}function q(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Z.a)(Q);case 2:return e=t.sent,t.next=5,Object(Z.b)({type:j,payload:e});case 5:case"end":return t.stop()}}),P)}function Q(){return W.apply(this,arguments)}function W(){return(W=Object(G.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/RU/RUB/en-RU/?query=Moscow",{method:"GET",headers:{"x-rapidapi-key":"9e818ad923msha494dffe254b227p1bb0e1jsn3249dda9dbe5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=Object(K.a)(),ee=Object(z.d)(D,Object(z.c)(Object(z.a)(R.a,X)));X.run($),i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(m.a,{store:ee,children:Object(O.jsx)(F,{})})}),document.getElementById("root")),L()}},[[43,1,2]]]);
//# sourceMappingURL=main.c6f6268c.chunk.js.map