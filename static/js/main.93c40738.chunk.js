(this["webpackJsonpreact-test-fly"]=this["webpackJsonpreact-test-fly"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a.n(i),c=a(12),r=a.n(c),s=(a(26),a(27),a(18)),l=(a(28),a(9)),o="LOGIN",u="LOGOUT",p="SHOW_VALIDATE_ERR",d="HIDE_VALIDATE_ERR",j="FETCH_FLIGHTS",h="REQUEST_FLIGHTS",b="SET_LIKE",f="REMOVE_LIKE";var _=a(6),O=a(1);var m=function(){var e=Object(i.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(i.useState)(""),r=Object(s.a)(c,2),u=r[0],j=r[1],h=Object(_.c)(),b=Object(_.d)((function(e){return e.login})),f="authorization__label ".concat(b.email?"authorization__label_type_err":""),m="authorization__input  ".concat(b.email?"authorization__input_type_err":""),g="authorization__label ".concat(b.pass?"authorization__label_type_err":""),x="authorization__input  ".concat(b.pass?"authorization__input_type_err":""),v=/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i,N=/(?=^.{8,}$)^[a-zA-Z0-9]+$/,y="";y=b.email?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443":"";var k="";k=b.pass?"\u041f\u0430\u0440\u043e\u043b\u044c \u0431\u0435\u0437 \u043a\u0438\u0440\u0438\u043b\u0438\u0446\u044b, \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":"";var w=function(e,t,a){var i;e.test(a)?h(function(e){return Object(l.a)({type:d,place:e.input},e.input,e.state)}({input:t,state:!1})):h((i={input:t,state:!0},Object(l.a)({type:p,place:i.input},i.input,i.state)))};return Object(O.jsx)("main",{className:"authorization",children:Object(O.jsxs)("div",{className:"authorization__block",children:[Object(O.jsx)("h2",{className:"authorization__title",children:"Simple Flight Check"}),Object(O.jsxs)("form",{className:"authorization__form",action:"#",onSubmit:function(e){e.preventDefault(),""===a||""===u?(w(v,"email",a),w(N,"pass",u)):h({type:o})},noValidate:!0,children:[Object(O.jsx)("label",{className:f,children:"\u041b\u043e\u0433\u0438\u043d:"}),Object(O.jsx)("input",{type:"email",name:"email",value:a||"",onChange:function(e){n(e.target.value),w(v,"email",a)},className:m}),Object(O.jsx)("span",{className:"authorization__err",children:y}),Object(O.jsx)("label",{className:g,children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(O.jsx)("input",{type:"password",name:"pass",value:u||"",onChange:function(e){j(e.target.value),w(N,"pass",u)},className:x}),Object(O.jsx)("span",{className:"authorization__err",children:k}),Object(O.jsx)("button",{type:"submit",className:"authorization__btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(34),a(35),a(36);var g=function(e){var t=e.link;return Object(O.jsx)("li",{className:"departure__image-item",children:Object(O.jsx)("img",{className:"departure__image",src:t,alt:"departure place"})})};var x=Object(_.b)((function(e){return{images:e.images.images}}),null)((function(e){var t=e.images;return Object(O.jsx)("div",{className:"container-shadow",children:Object(O.jsx)("ul",{className:"departure__images",children:t.map((function(e,t){return Object(O.jsx)(g,{link:e},t)}))})})})),v=(a(37),a(38),a.p+"static/media/logo-aero.dd978435.svg");var N=function(e){var t=Object(_.c)(),a="departure__like ".concat(e.flight.isLiked?"departure__like_active":"");return Object(O.jsxs)("li",{className:"departure__flight",children:[Object(O.jsxs)("div",{className:"departure__flight-info",children:[Object(O.jsx)("img",{src:v,className:"departure__logo",alt:"logo"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"departure__flight-aeroports",children:[Object(O.jsx)("p",{className:"departure__flight-from",children:e.flight.placeFrom}),Object(O.jsx)("p",{className:"departure__flight-in",children:e.flight.placeIn})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:"departure__flight-date",children:e.flight.date}),Object(O.jsx)("p",{className:"departure__flight-company",children:e.flight.company})]})]})]}),Object(O.jsxs)("div",{className:"departure__price-block",children:[Object(O.jsx)("button",{className:a,onClick:function(){var a;e.flight.isLiked?t(function(e){return{type:f,payload:e}}(e.flight.id)):t((a=e.flight.id,{type:b,payload:a}))},"aria-label":"like"}),Object(O.jsxs)("p",{className:"departure__cost",children:[Object(O.jsx)("span",{className:"departure__price-title",children:"Price:"}),e.flight.price]})]})]})};var y=function(){var e=Object(_.d)((function(e){return e.flights}));return Object(O.jsxs)("ul",{className:"departure__flights",children:[Object(O.jsxs)("p",{className:"departure__favorites",children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object(O.jsx)("span",{className:"departure__counter",children:e.favorites.length}),"  \u0440\u0435\u0439\u0441\u043e\u0432"]}),e.flights.map((function(e,t){return Object(O.jsx)(N,{flight:e,index:t},t)}))]})};var k=function(){var e=Object(_.c)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",className:"btn-exit",onClick:function(){e({type:u})},children:"\u0412\u044b\u0439\u0442\u0438"}),Object(O.jsxs)("main",{className:"departures",children:[Object(O.jsxs)("div",{className:"departures__block",children:[Object(O.jsxs)("div",{className:"departure__direction-block",children:[Object(O.jsx)("p",{className:"departure__direction departure__title",children:"\u0412\u044b\u043b\u0435\u0442\u044b"}),Object(O.jsx)("p",{className:"departure__direction departure__routes",children:"SVO - JFK"})]}),Object(O.jsx)("input",{type:"date",name:"calendar",className:"departure__calendar"})]}),Object(O.jsx)(x,{}),Object(O.jsx)(y,{})]})]})};var w=Object(_.b)((function(e){return{login:e.login.login}}),null)((function(e){return e.login?Object(O.jsx)("div",{className:"page",children:Object(O.jsx)(k,{})}):Object(O.jsx)("div",{className:"page",children:Object(O.jsx)(m,{})})})),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),i(e),n(e),c(e),r(e)}))},L=a(10),E=a(5),F={login:(JSON.parse(localStorage.getItem("authorization"))||!1).login,email:!1,pass:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return localStorage.setItem("authorization",JSON.stringify({login:!0})),Object(E.a)(Object(E.a)({},e),{},{login:!0});case u:return localStorage.setItem("authorization",JSON.stringify({login:!1})),Object(E.a)(Object(E.a)({},e),{},{login:!1});case p:return Object(E.a)(Object(E.a)({},e),{},Object(l.a)({},t.place,!0));case d:return Object(E.a)(Object(E.a)({},e),{},Object(l.a)({},t.place,!1));default:return e}},z=a.p+"static/media/photo1.e911344d.png",J=a.p+"static/media/photo2.c313eba1.png",T=a.p+"static/media/photo3.ec11c3ee.png",C={images:[z,J,T,z,J,T]},A={flights:[{id:"1",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"2",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!0},{id:"3",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"4",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1},{id:"5",placeFrom:"Moscow (SVO)",placeIn:"New York City (JFK)",date:"28 June, 2020 - 14:50",company:"Aeroflot",price:"23 924 \u20bd",isLiked:!1}],favorites:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(E.a)(Object(E.a)({},e),{},{flights:t.payload,favorites:e.flights.filter((function(e){return!0===e.isLiked}))});case b:return Object(E.a)(Object(E.a)({},e),{},{flights:e.flights.map((function(e){return e.id===t.payload?(e.isLiked=!0,e):e})),favorites:e.flights.filter((function(e){return!0===e.isLiked}))});case f:return Object(E.a)(Object(E.a)({},e),{},{flights:e.flights.map((function(e){return e.id===t.payload?(e.isLiked=!1,e):e})),favorites:e.flights.filter((function(e){return!0===e.isLiked}))});default:return e}},R=Object(L.b)({login:I,images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return e},flights:V}),D=a(19),K=a(21),M=a(20),U=a(11),G=a.n(U),H=a(14),Y=G.a.mark(Z),X=G.a.mark(B);function Z(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.c)(h,B);case 2:case"end":return e.stop()}}),Y)}function B(){var e;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(H.a)(P);case 2:return e=t.sent,t.next=5,Object(H.b)({type:j,payload:e});case 5:case"end":return t.stop()}}),X)}function P(){return $.apply(this,arguments)}function $(){return($=Object(M.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/RU/RUB/en-RU/?query=Moscow",{method:"GET",headers:{"x-rapidapi-key":"9e818ad923msha494dffe254b227p1bb0e1jsn3249dda9dbe5","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=Object(K.a)(),Q=Object(L.d)(R,Object(L.c)(Object(L.a)(D.a,q),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));q.run(Z),r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(_.a,{store:Q,children:Object(O.jsx)(w,{})})}),document.getElementById("root")),S()}},[[40,1,2]]]);
//# sourceMappingURL=main.93c40738.chunk.js.map